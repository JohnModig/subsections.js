function _subSections(){this.show=function(e){var t=document.getElementById(e);this.removeClass(t,"hidden"),this.addClass(t,"opened"),t.parentElement.style.minHeight=t.clientHeight+"px",this.scrollTo(t.parentElement)},this.hide=function(e){var t;t="string"==typeof e?document.getElementById(e):e,this.removeClass(t,"opened"),this.addClass(t,"hidden"),t.parentElement.style.minHeight=""},this.parentSection=function(e){for(var t=e.parentNode;"DIV"!==t.nodeName||t.className.indexOf("sub-section")<0;)t=t.parentNode;return t},this.browserSupportsScrollBehaviour=!1,this.useScroll=!0,this.scrollTo=function(e){if(this.useScroll){var t=e.getBoundingClientRect(),o=document.querySelector("nav"),i="fixed"===window.getComputedStyle(o).position?o.clientHeight:0;if(t.top<i){var s=parseInt(t.top+window.pageYOffset-i);if(isNaN(s))return;!0===this.browserSupportsScrollBehaviour?window.scrollTo({top:s,left:0,behavior:"smooth"}):window.scrollTo(0,s)}else if(e.clientHeight<window.innerHeight&&t.bottom>window.innerHeight)!0===this.browserSupportsScrollBehaviour?e.scrollIntoView({behavior:"smooth",block:"end"}):e.scrollIntoView(!1);else if(t.bottom>window.innerHeight){s=parseInt(t.top+window.pageYOffset-i);if(isNaN(s))return;!0===this.browserSupportsScrollBehaviour?window.scrollTo({top:s,left:0,behavior:"smooth"}):window.scrollTo(0,s)}}},this.removeClass=function(e,t){if(e){var o=e.className,i=new RegExp("s*"+t+"s*","g");o=o.replace(i,""),e.className=o.replace(/\s+$/,"")}},this.addClass=function(e,t){if(e&&e.className.indexOf(t)<0){var o=e.className;o&&0<o.length?e.className=o+" "+t:e.className=t}},this.init=function(){for(var e=document.querySelectorAll("div.sub-section[id]"),t=0;t<e.length;t++)this.hide(e[t].getAttribute("id"));var o=document.querySelectorAll("a[data-section-id]");for(t=0;t<o.length;t++)o[t].onclick=function(){return document.getElementById(this.getAttribute("data-section-id")).className.indexOf("opened")<0?subSections.show(this.getAttribute("data-section-id")):subSections.hide(this.getAttribute("data-section-id")),subSections.callback(this),!1};for(t=0;t<e.length;t++){var i=e[t].querySelector("a.close");i&&(i.onclick=function(){return subSections.hide(subSections.parentSection(this)),!1})}this.browserSupportsScrollBehaviour="scrollBehavior"in document.documentElement.style,!1===this.browserSupportsScrollBehaviour&&!0===window.smoothscrollPolyfill&&void 0!==window.requestAnimationFrame&&(this.browserSupportsScrollBehaviour=!0),void 0===window.getComputedStyle&&(this.useScroll=!1)}}var subSections=new _subSections;subSections.init();
